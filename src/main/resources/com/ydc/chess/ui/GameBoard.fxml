<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<!-- 游戏对弈主界面 -->
<BorderPane prefHeight="700.0" prefWidth="1000.0"
            style="-fx-background-color: #F0F0F0;"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.ydc.chess.controller.GameBoardController">

    <!-- 中间：棋盘区域 -->
    <center>
        <Pane fx:id="boardPane"
              prefHeight="625.0" prefWidth="560.0"
              minHeight="625.0" minWidth="560.0"
              maxHeight="625.0" maxWidth="560.0"
              style="-fx-background-color: #E6C288; -fx-border-color: #8B4513; -fx-border-width: 5;">
            <BorderPane.margin>
                <Insets top="20" bottom="20" left="20" right="20"/>
            </BorderPane.margin>
            <Label text="棋盘区域 (将在代码中绘制)"
                   layoutX="200" layoutY="300"
                   textFill="#8B4513"/>
        </Pane>
    </center>

    <!-- 右侧：控制面板 -->
    <right>
        <VBox spacing="20.0" prefWidth="250.0"
              style="-fx-background-color: white; -fx-border-color: #CCC; -fx-border-width: 0 0 0 1;">
            <padding>
                <Insets top="30" right="20" bottom="30" left="20"/>
            </padding>

            <!-- 顶部：对局信息 -->
            <VBox spacing="10" alignment="CENTER">
                <Label text="对局信息"
                       style="-fx-font-size: 20px; -fx-font-weight: bold;"/>

                <Label fx:id="turnLabel"
                       text="当前回合: 红方"
                       style="-fx-font-size: 18px; -fx-text-fill: red;"/>

                <Label fx:id="timerLabel"
                       text="时间: 00:00"
                       style="-fx-font-size: 16px;"/>

                <!-- ✅ 新增：悔棋剩余次数提示 -->
                <!-- 悔棋剩余次数显示（分行） -->
                <VBox spacing="4" alignment="CENTER_LEFT">
                    <Label fx:id="redRegretLabel"
                           text="红方剩余悔棋次数：3"
                           style="-fx-font-size: 15px; -fx-text-fill: #C62828;"/>

                    <Label fx:id="blackRegretLabel"
                           text="黑方剩余悔棋次数：3"
                           style="-fx-font-size: 15px; -fx-text-fill: #333333;"/>
                </VBox>

            </VBox>

            <VBox prefHeight="20"/>

            <!-- 中间：功能按钮 -->
            <VBox spacing="15" alignment="CENTER">
                <Button text="悔  棋"
                        onAction="#onRegretClicked"
                        style="-fx-font-size: 16px;
                               -fx-pref-width: 150;
                               -fx-background-color: #FF9800;
                               -fx-text-fill: white;"/>

                <Button text="求  和"
                        onAction="#onDrawClicked"
                        style="-fx-font-size: 16px;
                               -fx-pref-width: 150;
                               -fx-background-color: #2196F3;
                               -fx-text-fill: white;"/>

                <Button text="认  输"
                        onAction="#onSurrenderClicked"
                        style="-fx-font-size: 16px;
                               -fx-pref-width: 150;
                               -fx-background-color: #F44336;
                               -fx-text-fill: white;"/>
            </VBox>

            <VBox prefHeight="20"/>

            <!-- 底部：对局记录 -->
            <Label text="对局记录"
                   style="-fx-font-weight: bold;"/>

            <TextArea fx:id="gameLogArea"
                      editable="false"
                      wrapText="true"
                      VBox.vgrow="ALWAYS"
                      style="-fx-control-inner-background: #FAFAFA;"/>

            <Button text="返回主菜单"
                    onAction="#onBackClicked"
                    style="-fx-pref-width: 150;"/>
        </VBox>
    </right>

</BorderPane>
